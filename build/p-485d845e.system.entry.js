var __awaiter=this&&this.__awaiter||function(t,e,r,n){function s(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function l(t){try{a(n["throw"](t))}catch(e){i(e)}}function a(t){t.done?r(t.value):s(t.value).then(o,l)}a((n=n.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(t){return function(e){return a([t,e])}}function a(o){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,s&&(i=o[0]&2?s["return"]:o[0]?s["throw"]||((i=s["return"])&&i.call(s),0):s.next)&&!(i=i.call(s,o[1])).done)return i;if(s=0,i)o=[o[0]&2,i.value];switch(o[0]){case 0:case 1:i=o;break;case 4:r.label++;return{value:o[1],done:false};case 5:r.label++;s=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}if(i[2])r.ops.pop();r.trys.pop();continue}o=e.call(t,r)}catch(l){o=[6,l];s=0}finally{n=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};System.register(["./p-ca0fbc07.system.js","./p-3a73b8b5.system.js","./p-d3485888.system.js"],(function(t){"use strict";var e,r,n,s,i,o,l,a,c;return{setters:[function(t){e=t.r;r=t.c;n=t.h;s=t.H;i=t.g},function(t){o=t.c},function(t){l=t.g;a=t.u;c=t.s}],execute:function(){var u=o((function(t){(function(e,r){t.exports=r()})("Clusterize",(function(){var t=function(){for(var t=3,e=document.createElement("b"),r=e.all||[];e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i><![endif]--\x3e",r[0];){}return t>4?t:document.documentMode}(),e=navigator.platform.toLowerCase().indexOf("mac")+1;var r=function(t){if(!(this instanceof r))return new r(t);var o=this;var l={rows_in_block:50,blocks_in_cluster:4,tag:null,show_no_data_row:true,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:true,callbacks:{}};o.options={};var a=["rows_in_block","blocks_in_cluster","show_no_data_row","no_data_class","no_data_text","keep_parity","tag","callbacks"];for(var c=0,u;u=a[c];c++){o.options[u]=typeof t[u]!="undefined"&&t[u]!=null?t[u]:l[u]}var h=["scroll","content"];for(var c=0,f;f=h[c];c++){o[f+"_elem"]=t[f+"Id"]?document.getElementById(t[f+"Id"]):t[f+"Elem"];if(!o[f+"_elem"])throw new Error("Error! Could not find "+f+" element")}if(!o.content_elem.hasAttribute("tabindex"))o.content_elem.setAttribute("tabindex",0);var m=i(t.rows)?t.rows:o.fetchMarkup(),d={},g=o.scroll_elem.scrollTop;o.insertToDOM(m,d);o.scroll_elem.scrollTop=g;var p=false,_=0,v=false,y=function(){if(e){if(!v)o.content_elem.style.pointerEvents="none";v=true;clearTimeout(_);_=setTimeout((function(){o.content_elem.style.pointerEvents="auto";v=false}),50)}if(p!=(p=o.getClusterNum()))o.insertToDOM(m,d);if(o.options.callbacks.scrollingProgress)o.options.callbacks.scrollingProgress(o.getScrollProgress())},w=0,b=function(){clearTimeout(w);w=setTimeout(o.refresh,100)};n("scroll",o.scroll_elem,y);n("resize",window,b);o.destroy=function(t){s("scroll",o.scroll_elem,y);s("resize",window,b);o.html((t?o.generateEmptyRow():m).join(""))};o.refresh=function(t){if(o.getRowsHeight(m)||t)o.update(m)};o.update=function(t){m=i(t)?t:[];var e=o.scroll_elem.scrollTop;if(m.length*o.options.item_height<e){o.scroll_elem.scrollTop=0;p=0}o.insertToDOM(m,d);o.scroll_elem.scrollTop=e};o.clear=function(){o.update([])};o.getRowsAmount=function(){return m.length};o.getScrollProgress=function(){return this.options.scroll_top/(m.length*this.options.item_height)*100||0};var C=function(t,e){var r=i(e)?e:[];if(!r.length)return;m=t=="append"?m.concat(r):r.concat(m);o.insertToDOM(m,d)};o.append=function(t){C("append",t)};o.prepend=function(t){C("prepend",t)}};r.prototype={constructor:r,fetchMarkup:function(){var t=[],e=this.getChildNodes(this.content_elem);while(e.length){t.push(e.shift().outerHTML)}return t},exploreEnvironment:function(e,r){var n=this.options;n.content_tag=this.content_elem.tagName.toLowerCase();if(!e.length)return;if(t&&t<=9&&!n.tag)n.tag=e[0].match(/<([^>\s/]*)/)[1].toLowerCase();if(this.content_elem.children.length<=1)r.data=this.html(e[0]+e[0]+e[0]);if(!n.tag)n.tag=this.content_elem.children[0].tagName.toLowerCase();this.getRowsHeight(e)},getRowsHeight:function(t){var e=this.options,r=e.item_height;e.cluster_height=0;if(!t.length)return;var n=this.content_elem.children;if(!n.length)return;var s=n[Math.floor(n.length/2)];e.item_height=s.offsetHeight;if(e.tag=="tr"&&o("borderCollapse",this.content_elem)!="collapse")e.item_height+=parseInt(o("borderSpacing",this.content_elem),10)||0;if(e.tag!="tr"){var i=parseInt(o("marginTop",s),10)||0;var l=parseInt(o("marginBottom",s),10)||0;e.item_height+=Math.max(i,l)}e.block_height=e.item_height*e.rows_in_block;e.rows_in_cluster=e.blocks_in_cluster*e.rows_in_block;e.cluster_height=e.blocks_in_cluster*e.block_height;return r!=e.item_height},getClusterNum:function(){this.options.scroll_top=this.scroll_elem.scrollTop;return Math.floor(this.options.scroll_top/(this.options.cluster_height-this.options.block_height))||0},generateEmptyRow:function(){var t=this.options;if(!t.tag||!t.show_no_data_row)return[];var e=document.createElement(t.tag),r=document.createTextNode(t.no_data_text),n;e.className=t.no_data_class;if(t.tag=="tr"){n=document.createElement("td");n.colSpan=100;n.appendChild(r)}e.appendChild(n||r);return[e.outerHTML]},generate:function(t,e){var r=this.options,n=t.length;if(n<r.rows_in_block){return{top_offset:0,bottom_offset:0,rows_above:0,rows:n?t:this.generateEmptyRow()}}var s=Math.max((r.rows_in_cluster-r.rows_in_block)*e,0),i=s+r.rows_in_cluster,o=Math.max(s*r.item_height,0),l=Math.max((n-i)*r.item_height,0),a=[],c=s;if(o<1){c++}for(var u=s;u<i;u++){t[u]&&a.push(t[u])}return{top_offset:o,bottom_offset:l,rows_above:c,rows:a}},renderExtraTag:function(t,e){var r=document.createElement(this.options.tag),n="clusterize-";r.className=[n+"extra-row",n+t].join(" ");e&&(r.style.height=e+"px");return r.outerHTML},insertToDOM:function(t,e){if(!this.options.cluster_height){this.exploreEnvironment(t,e)}var r=this.generate(t,this.getClusterNum()),n=r.rows.join(""),s=this.checkChanges("data",n,e),i=this.checkChanges("top",r.top_offset,e),o=this.checkChanges("bottom",r.bottom_offset,e),l=this.options.callbacks,a=[];if(s||i){if(r.top_offset){this.options.keep_parity&&a.push(this.renderExtraTag("keep-parity"));a.push(this.renderExtraTag("top-space",r.top_offset))}a.push(n);r.bottom_offset&&a.push(this.renderExtraTag("bottom-space",r.bottom_offset));l.clusterWillChange&&l.clusterWillChange();this.html(a.join(""));this.options.content_tag=="ol"&&this.content_elem.setAttribute("start",r.rows_above);this.content_elem.style["counter-increment"]="clusterize-counter "+(r.rows_above-1);l.clusterChanged&&l.clusterChanged()}else if(o){this.content_elem.lastChild.style.height=r.bottom_offset+"px"}},html:function(e){var r=this.content_elem;if(t&&t<=9&&this.options.tag=="tr"){var n=document.createElement("div"),s;n.innerHTML="<table><tbody>"+e+"</tbody></table>";while(s=r.lastChild){r.removeChild(s)}var i=this.getChildNodes(n.firstChild.firstChild);while(i.length){r.appendChild(i.shift())}}else{r.innerHTML=e}},getChildNodes:function(t){var e=t.children,r=[];for(var n=0,s=e.length;n<s;n++){r.push(e[n])}return r},checkChanges:function(t,e,r){var n=e!=r[t];r[t]=e;return n}};function n(t,e,r){return e.addEventListener?e.addEventListener(t,r,false):e.attachEvent("on"+t,r)}function s(t,e,r){return e.removeEventListener?e.removeEventListener(t,r,false):e.detachEvent("on"+t,r)}function i(t){return Object.prototype.toString.call(t)==="[object Array]"}function o(t,e){return window.getComputedStyle?window.getComputedStyle(e)[t]:e.currentStyle[t]}return r}))}));var h=".clusterize-scroll.sc-any-virtual-scroller{max-height:200px;overflow:auto}.clusterize-extra-row.sc-any-virtual-scroller{margin-top:0 !important;margin-bottom:0 !important}.clusterize-extra-row.clusterize-keep-parity.sc-any-virtual-scroller{display:none}.clusterize-content.sc-any-virtual-scroller{outline:0;counter-reset:clusterize-counter}.clusterize-no-data.sc-any-virtual-scroller td.sc-any-virtual-scroller{text-align:center}.sc-any-virtual-scroller-h .clusterize-scroll.sc-any-virtual-scroller{max-height:100%}.sc-any-virtual-scroller-h .any-virtualscroller.sc-any-virtual-scroller .any-virtualscroller-header.sc-any-virtual-scroller{background:var(--surface-b);color:var(--text-color);border:solid var(--surface-d);border-width:1px 0 0 0;padding:1rem 1rem;font-weight:600}";var f=t("any_virtual_scroller",function(){function t(t){e(this,t);this.scrollingProgress=r(this,"scrollingProgress",7);this.clusterChanged=r(this,"clusterChanged",7);this.clusterWillChange=r(this,"clusterWillChange",7);this.aOnLazyLoad=r(this,"aOnLazyLoad",7);this.aOnItemClick=r(this,"aOnItemClick",7);this.clusterize=null;this.rows=[];this.instanceUuid="";this.rowsInBlock=10;this.blocksInCluster=4;this.first=0;this.firstInitCluster=false;this.items=[];this.scrollerHeight=null;this.itemSize=null;this.lazy=false;this.rowsPerPage=null;this.anyStyle=null;this.styleClass=null;this.itemTag="div";this.contentElemTag="div";this.noDataText="No Data";this.delay=250;this.contentElemClass=null;this.scrollElemClass=null;this.itemElemClass=null}t.prototype.itemsChanged=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,r,n;return __generator(this,(function(s){switch(s.label){case 0:if(!this.clusterize)return[3,2];t=this.element.querySelector('[slot="item"]').cloneNode(true);e=null;r=null;if(this.lazy){e=this.element.querySelector('[slot="loadingItem"]').cloneNode(true);r=e.outerHTML}n=[];return[4,l(this.itemTag,this.items,this.itemSize,t.outerHTML,null,null,this.itemElemClass,r)];case 1:n=s.sent();this.clusterize.update(n);this.clusterize.refresh(true);s.label=2;case 2:return[2]}}))}))};t.prototype.connectedCallback=function(){this.instanceUuid=a();if(!this.rowsPerPage){this.rowsPerPage=this.rowsInBlock*this.blocksInCluster}else{this.rowsInBlock=this.rowsPerPage/this.blocksInCluster}};t.prototype.componentWillLoad=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.hasHeaderSlot=!!this.element.querySelector('[slot="header"]');return[2]}))}))};t.prototype.componentDidLoad=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,r,n;var s=this;return __generator(this,(function(i){switch(i.label){case 0:t=this.element.querySelector('[slot="item"]').cloneNode(true);if(this.lazy){t=this.element.querySelector('[slot="loadingItem"]').cloneNode(true)}e=this;return[4,l(this.itemTag,this.items,this.itemSize,t.outerHTML,0,this.rowsInBlock*this.blocksInCluster,this.itemElemClass)];case 1:e.rows=i.sent();this.initClusterize();r=this;return[4,l(this.itemTag,this.items,this.itemSize,t.outerHTML,this.rowsInBlock*this.blocksInCluster,null,this.itemElemClass)];case 2:r.rows=i.sent();if(this.clusterize){this.clusterize.append(this.rows);this.clusterize.refresh(true)}n=this.element.querySelector("#any-virtualscroller-scroll-"+this.instanceUuid);c(n,(function(){if(s.lazy){s.aOnLazyLoad.emit({first:s.first,rows:s.rowsPerPage})}}),this.delay);return[2]}}))}))};t.prototype.initClusterize=function(){var t=this;this.clusterize=new u({rows:this.rows,scrollElem:this.element.querySelector("#any-virtualscroller-scroll-"+this.instanceUuid),contentElem:this.element.querySelector("#any-virtualscroller-content-"+this.instanceUuid),rows_in_block:this.rowsInBlock,blocks_in_cluster:this.blocksInCluster,tag:this.itemTag,no_data_text:this.noDataText,callbacks:{clusterChanged:function(){var e=t.element.querySelector("#any-virtualscroller-content-"+t.instanceUuid);var r=e.getElementsByClassName("any-virtual-scroll-item")[0];t.defineVscrollItemClick();t.first=parseInt(r.getAttribute("data-index"));t.clusterChanged.emit({first:t.first,rows:t.rowsPerPage})},clusterWillChange:function(){var e=t.first+t.rowsPerPage>=t.items.length?t.items.length-1:t.first+t.rowsPerPage;t.clusterWillChange.emit({next:e,rows:t.rowsPerPage});if(!t.firstInitCluster&&t.lazy){t.aOnLazyLoad.emit({first:t.first,rows:t.rowsPerPage})}},scrollingProgress:function(e){t.scrollingProgress.emit({progress:e})}}});this.firstInitCluster=true};t.prototype.defineVscrollItemClick=function(){var t=this;var e=this.element.querySelectorAll(".any-virtual-scroll-item");for(var r=0;r<e.length;r++){var n=e[r];n.onclick=function(e){var r=this;t.aOnItemClick.emit({originalEvent:e,index:parseInt(r.getAttribute("data-index"))})}}};t.prototype.render=function(){return n(s,null,n("div",{style:{display:"none"}},n("slot",{name:"item"}),n("slot",{name:"loadingItem"})),n("div",{class:"any-component any-virtualscroller"+(this.styleClass?" "+this.styleClass:""),style:this.anyStyle},this.hasHeaderSlot&&n("div",{class:"any-virtualscroller-header"},n("slot",{name:"header"})),n("div",{id:"any-virtualscroller-scroll-"+this.instanceUuid,class:"any-virtualscroller-scroll clusterize-scroll",style:{height:this.scrollerHeight}},n(this.contentElemTag,{id:"any-virtualscroller-content-"+this.instanceUuid,class:"any-virtualscroller-content clusterize-content"+this.contentElemClass?" "+this.contentElemClass:""},n(this.itemTag,{class:"clusterize-no-data"}))),n("div",{class:"any-virtualscroller-footer"},n("slot",{name:"footer"}))))};Object.defineProperty(t.prototype,"element",{get:function(){return i(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{items:["itemsChanged"]}},enumerable:false,configurable:true});return t}());f.style=h}}}));